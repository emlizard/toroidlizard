<!DOCTYPE html>
<html lang="en" data-theme="light"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Toroidal Core Calculator</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  
<link rel="stylesheet" href="style.css"></head>
<body>
  <header class="header">
    <div class="header-content">
      <div class="logo-section">
        <a href="https://emlizard.github.io/main-page/" class="back-btn">
          <i class="fas fa-arrow-left"></i>
          Back to Calculators
        </a>
        <div class="page-title">Toroidal Core Calculator</div>
      </div>
      <button class="theme-toggle" onclick="toggleTheme()">
        <i class="fas fa-moon" id="themeIcon"></i>
      </button>
    </div>
  </header>

  <div class="container">
    <div class="hero">
      <h1>Toroidal Core Calculator</h1>
      <p>Advanced Magnetic Core Design Tool with Air Gap Support</p>
      <div class="reference-note">Based on magnetic circuit analysis and core geometry calculations</div>
    </div>

    <div class="core-image">
        <img src="https://emlizard.github.io/main-page/images/diagram_toroid.png" alt="Toroidal Core Diagram" width="300px" height="auto">
      </div>

    <!-- Input Section -->
    <div class="card animate-in">
      <div class="card-title">
        <div class="card-icon">
          <i class="fas fa-ring"></i>
        </div>
        Core Parameters
      </div>

      <h4 style="color: var(--primary); margin-bottom: 1rem;">Core Dimensions (mm)</h4>
      <div class="dimension-grid">
        <div class="input-group">
          <label class="input-label" for="id">Inner Diameter (ID)</label>
          <input type="number" class="input-field" id="id" step="0.1" value="15">
        </div>
        <div class="input-group">
          <label class="input-label" for="od">Outer Diameter (OD)</label>
          <input type="number" class="input-field" id="od" step="0.1" value="25">
        </div>
        <div class="input-group">
          <label class="input-label" for="h">Height (h)</label>
          <input type="number" class="input-field" id="h" step="0.1" value="2">
        </div>
      </div>

      <h4 style="color: var(--primary); margin-bottom: 1rem;">Magnetic Parameters</h4>
      <div class="parameter-grid">
        <div class="input-group">
          <label class="input-label" for="ur">Relative Permeability (μᵣ)</label>
          <input type="number" class="input-field" id="ur" step="1" value="100">
        </div>
        <div class="input-group">
          <label class="input-label" for="n">Number of Turns (N)</label>
          <input type="number" class="input-field" id="n" step="1" value="10">
        </div>
        <div class="input-group">
          <label class="input-label" for="lg">Gap Length (mm)</label>
          <input type="number" class="input-field" id="lg" step="0.01" value="0">
        </div>
      </div>

      <button class="btn btn-full" onclick="calculate()">
        <i class="fas fa-calculator"></i>
        Calculate Core Parameters
      </button>

      <div class="info-box">
        <h4>Design Notes</h4>
        <p>• All dimensions must be positive values<br>
        • Gap length can be zero for ungapped cores<br>
        • OD must be greater than ID for valid geometry</p>
      </div>
    </div>

    <!-- Results Section -->
    <div class="card animate-in">
      <div class="card-title">
        <div class="card-icon">
          <i class="fas fa-chart-line"></i>
        </div>
        Calculation Results
      </div>

      

      <div id="results" class="placeholder-state">
        Enter core parameters and click Calculate to view results
      </div>
    </div>

    <!-- Formulas Section -->
    <div class="card animate-in">
      <div class="card-title">
        <div class="card-icon">
          <i class="fas fa-book"></i>
        </div>
        Calculation Formulas Reference
      </div>

      <div class="formula-section">
        <h3>Basic Core Geometry</h3>
        <div class="formula-content">
          <p><strong>Effective Area:</strong><br>
          \( A_e = \frac{(OD - ID) \times h}{2} \)</p>
          <p><strong>Effective Length:</strong><br>
          \( L_e = \pi \times \frac{OD - ID}{\ln\left(\frac{OD}{ID}\right)} \)</p>
          <p><strong>Effective Core Volume:</strong><br>
          \( V_e = A_e \times L_e \)</p>
        </div>
      </div>

      <div class="formula-section">
        <h3>Magnetic Properties (No Gap)</h3>
        <div class="formula-content">
          <p><strong>AL Factor:</strong><br>
          \( A_L = \mu_0 \times \mu_r \times \frac{A_e}{L_e} \times 10^9 \;\text{[nH/N²]} \)</p>
          <p><strong>Inductance:</strong><br>
          \( L = \frac{A_L \times N^2}{1000} \;\text{[μH]} \)</p>
        </div>
      </div>

      <div class="formula-section">
        <h3>Magnetic Properties (With Gap)</h3>
        <div class="formula-content">
          <p><strong>AL Factor (Gapped):</strong><br>
          \( A_L = \frac{\mu_0 \times A_e}{\frac{L_e}{\mu_r} + l_g} \times 10^9 \;\text{[nH/N²]} \)</p>
          <p><strong>Inductance (Gapped):</strong><br>
          \( L = \frac{A_L \times N^2}{1000} \;\text{[μH]} \)</p>
          <p>Where \( l_g \) is the gap length in meters.</p>
        </div>
      </div>
    </div>
  </div>

  

<script src="script.js"></script></body></html>
